<div id="snapshot" class="row">
  <div id="snapshot_status" class="col-8">
    <div class="row">
      <div class="col form-group">
        <label>status</label>
        <label>{{snapshot?.status?.status?.value}}
          <small class="since">{{snapshot?.status?.status?.since === null ? "∞" : snapshot?.status?.status?.since | number:'1.0-0'}}</small>
        </label>
      </div>
      <div class="col form-group">
        <label>door</label>
        <label>{{snapshot?.status?.door?.status}}
          <small class="since">{{snapshot?.status?.door?.since === null ? "∞" : snapshot?.status?.door?.since | number:'1.0-0'}}</small>
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label>program</label>
        <label>{{snapshot?.status?.program?.name}}
          <small class="since">{{snapshot?.status?.program?.since === null ? "∞" : snapshot?.status?.program?.since | number:'1.0-0'}}</small>
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label>subprogram</label>
        <label>{{snapshot?.status?.subprogram?.name}}
          <small class="since">{{snapshot?.status?.subprogram?.since === null ? "∞" : snapshot?.status?.subprogram?.since | number:'1.0-0'}}</small>
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label>unit</label>
        <label>{{snapshot?.status?.unit?.num}}
          <small class="since">{{snapshot?.status?.unit?.since === null ? "∞" : snapshot?.status?.unit?.since | number:'1.0-0'}}</small>
        </label>
      </div>
      <div class="col form-group">
        <label>sequence</label>
        <label>{{snapshot?.status?.sequence?.num}}
          <small class="since">{{snapshot?.status?.sequence?.since === null ? "∞" : snapshot?.status?.sequence?.since | number:'1.0-0'}}</small>
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col form-group">
        <label>tool</label>
        <label>{{snapshot?.status?.tool?.num}}
          <small class="since">{{snapshot?.status?.tool?.since === null ? "∞" : snapshot?.status?.tool?.since | number:'1.0-0'}}</small>
        </label>
      </div>
    </div>
  </div>
  <div id="conditions" class="col-4">
    <div *ngFor="let condition of conditions$ | async" class="row">
      <div [class]="'condition col ' + condition.severity | lowercase">
        <div class="row align-items-center border-bottom">
          <label class="col-auto icon">●</label>
          <label class="col name pl-0">{{condition.data_id}}
            <small class="since">{{condition.since === null ? "∞" :  condition.since | number:'1.0-0'}}</small>
          </label>
          <label class="col message">{{condition.message}}</label>
        </div>
      </div>
    </div>
  </div>
  <div id="snapshot_axes" class="col-12">
    <div id="snapshot_axes_lin" class="axes row">
      <div class="col-4" *ngFor="let axis of axesLin$ | async">
        <div class="row">
          <label class="col pr-0">{{axis.name}} {{getAxisMode(axis)}}</label>
          <label class="col-3 p-0 text-right">{{axis.pos | number:'1.3-3'}}mm</label>
          <label class="col-3 p-0 text-right">{{axis.rate | number:'1.3-3'}}mm/s</label>
          <label class="col-3 p-0 text-right" [class]="axis.load > 100 ? 'warning' : ''">{{axis.load | number:'1.0-0'}}%</label>
        </div>
      </div>
    </div>
    <div id="snapshot_axes_rot" class="axes row">
      <div class="col-4" *ngFor="let axis of axesRot$ | async">
        <div class="row">
          <label class="col pr-0">{{axis.name}} {{getAxisMode(axis)}}</label>
          <label class="col-3 p-0 text-right">{{axis.pos | number:'1.3-3'}}º</label>
          <label class="col-3 p-0 text-right">{{axis.rate | number:'1.3-3'}}rpm</label>
          <label class="col-3 p-0 text-right" [class]="axis.load > 100 ? 'warning' : ''">{{axis.load | number:'1.0-0'}}%</label>
        </div>
      </div>
    </div>
  </div>
</div>
